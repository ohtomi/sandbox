sourceSets {
  integrationTest {
    resources.srcDir file('src/integrationTest/resources')
    compileClasspath = sourceSets.main.output + configurations.testCompile
    runtimeClasspath = output + compileClasspath + configurations.testRuntime
  }
}

task integrationTest(type: Test) {
  group = 'verification'
  description = 'Runs the integration tests.'

  testClassesDir = sourceSets.integrationTest.output.classesDir
  classpath = sourceSets.integrationTest.runtimeClasspath

  reports.html.destination = file("${reports.html.destination}/integration")
  reports.junitXml.destination = file("${reports.junitXml.destination}/integration")
}

test {
  reports.html.destination = file("${reports.html.destination}/unit")
  reports.junitXml.destination = file("${reports.junitXml.destination}/unit")
}
